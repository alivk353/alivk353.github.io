# PHP

## 通用的代码审计思路

### 逆向回溯变量

从危险函数的传入参数向上检查,回溯变量,检查变量是否经过过滤安全函数,定向挖掘某一类漏洞,对通读代码比较少,没有代码审计经验的本人最合适高效

### 正向跟踪变量

可以先了解程序的主要功能点,利用爬虫找到那些文件从外部接受参数,然后跟踪这些参数,在跟踪参数的过程中可以检查是否经过过滤函数,以及是否存在逻辑上的漏洞,说起来多么容易,haha

## 记录备忘

### PHP5和PHP7

PHP5在2018年底停止更新,最后的版本为5.6,在php7中改进的点:

- 移除了preg_replace中容易导致代码执行的e模式
- accert从函数转换为语法结构,和eval类似,不能再动态调用
- 7.2中移除create_function
- 移除不支持预编译sql查询语句的mysql拓展
- hex字符串不再作为数字

```php
var_dump('0x1' == 1);
var_dump(is_numeric('0x1'));

//php7后输出为false
//php5.6.4前输出都为true
```